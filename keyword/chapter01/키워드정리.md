# 왜래키

- 외래 키는 다른 테이블의 기본 키와 관계를 형성하는 열이다. 
- 외래 키를 가지고 있는 테이블을 참조 테이블 또는 자식 테이블이라고 하며, 다른 테이블의 기본 키를 참조하는 테이블을 참조되는 테이블 또는 부모 테이블이라고 한다. 
- 외래 키를 사용하여 데이터의 무결성을 보장하고 관계형 데이터베이스에서 테이블 간의 관계를 표현한다.

# 기본키

- 기본 키는 테이블 내에서 각 행을 고유하게 식별하는 역할을 하고 하나의 테이블에는 반드시 하나의 유니크(not null, not 중복)값의 기본 키가 존재해야 한다. 
- 인덱스 방식을 사용하기 때문에 테이블에서 기본 키를 사용하면 특정 행을 빠르게 찾을 수 있고, 데이터의 무결성을 보장할 수 있다.

# ER 다이어그램

- ERD는 단어에서 의미하는 그대로 'Entity =개체' 와 'Relationship =관계'를 중점적으로 표시하는 다이어그램으로 구체화 하는 것을 말한다.
- 개체, 속성, 관계 3가지의 요소로 표기한다.

# 복합 키

- 복합 키는 두 개 이상의 컬럼을 조합하여 기본 키로 사용하는 것을 의미한다.
- 즉, 단일 컬럼이 아닌 여러 개의 컬럼이 함께 고유한 식별자로 작용한다.

### 복합 키의 특징

1. 단일 컬럼만으로 고유한 값을 식별할 수 없을 때 사용
2. 여러 개의 컬럼 조합이 유일성을 보장
3. 기본 키가 여러 개의 컬럼으로 구성되므로, 이를 참조하는 테이블에서도 외래 키 설정 시 같은 컬럼 조합을 사용해야 함

# 연관관계

- 연관관계는 두 개 이상의 엔티티 또는 테이블간의 관계를 정의한 것을 의미합니다.
- 데이터베이스 설계에서 객체 간의 연관성을 표현 하여, 데이터를 효율적으로 저장하고 관리하는 데 중요한 역할을 합니다.
- 연관관계는 크게 1:1(일대일), 1:N(일대다), N:M(다대다) 세 가지로 나눌 수 있습니다.

### 1:1 (One-to-One, 일대일 관계)

- 한 테이블의 한 행이 다른 테이블의 단 하나의 행과만 연결되는 관계
- 예시: 사용자(User) - 사용자 프로필(UserProfile) ⇒ 한 사용자는 프로필을 여러개 가질수 없음

### 1:N (One-to-Many, 일대다 관계)

- 한 테이블의 한 행이 다른 테이블의 여러 행과 연결될 수 있는 관계
- 예시: 회원(Member) - 대여(Rent) ⇒ 한 회원은 대여를 여러번 할 수 있음.

### N:M (Many-to-Many, 다대다 관계)

- 한 테이블의 여러 행이 다른 테이블의 여러 행과 연결되는 관계
- 예시: 학생(Student) - 수업(Class)
- 보통 중간 테이블(매핑 테이블)을 이용하여 해결


# 정규화
    
- 정규화는 데이터베이스 설계 과정에서 중복을 최소화하고, 데이터 무결성을 유지하기 위해 데이터를 체계적으로 정리하는 과정
    
 ### **정규화의 목적**
    
1. **데이터 중복(Redundancy) 최소화** → 저장 공간 절약
2. **데이터 무결성(Integrity) 유지** → 일관성 있는 데이터 관리
3. **이상 현상(Anomalies) 방지** → 삽입, 삭제, 갱신 이상 방지
4. **데이터 검색과 수정의 효율성 향상**
    
### 1NF(제1정규형, First Normal Form) - 원자성(Atomicity) 보장
    
- 각 컬럼의 값이 더 이상 나눌 수 없는 원자값(Atomic Value)이어야 함
- 중복된 레코드(행) 제거, 중첩된 테이블 제거

### **2NF(제2정규형) - 부분 종속성 제거**

- **1NF를 만족하면서, 기본 키의 일부 속성에 종속된 속성을 제거**
- **즉, 기본 키 전체에 종속되지 않는 속성을 별도 테이블로 분리**

### 3NF(제3정규형) - 이행적 종속 제거

- **2NF를 만족하면서, 기본 키가 아닌 속성이 다른 속성을 종속시키는 관계(이행적 종속)를 제거**
- **이행적 종속(Transitive Dependency) 발생**

### ### **BCNF(보이스-코드 정규형)가 필요한 이유**

- *BCNF(Boyce-Codd Normal Form)**는 **제3정규형(3NF)에서도 여전히 후보 키가 아닌 속성이 결정자가 되는 문제를 해결하기 위해 사용됨.**

정규화(Normalization)를 수행하면 **데이터 무결성(Integrity)이 유지되고 중복이 최소화되지만**, 다음과 같은 단점이 발생할 수 있습니다.

### **정규화된 데이터 모델의 단점**

1. **조인(Join) 연산이 많아져 성능 저하**
    - 정규화로 인해 데이터가 여러 테이블로 나뉘게 되므로, 데이터를 조회할 때 여러 개의 테이블을 조인해야 함.
    - 데이터가 많을수록 조인 비용이 증가하여 성능이 저하될 수 있음.
2. **조회 성능 저하**
    - 정규화된 모델은 데이터 조회 시 여러 테이블을 거쳐야 하므로 조회 속도가 느려질 수 있음.
3. **인덱스 활용이 어려움**
    - 정규화된 테이블은 여러 개의 테이블을 참조하기 때문에, 단일 테이블에서 효율적으로 인덱스를 사용할 수 없는 경우가 많음.

#### 집계 테이블(Aggregate Table)
- 대량의 데이터를 요약하여 빠른 조회 가능
- ex 일별 매출, 월별 사용자 수
#### 진행 테이블(Progress Table)	
- 진행 중인 상태를 추적하고 관리
- ex 주문 상태 관리, 프로젝트 진행 상황
#### 특정 부분 테이블(Partial Table)	
- 원본 테이블의 일부 데이터만 저장
- ex VIP 고객, 최근 3개월 주문