### **조인(Join)**

**둘 이상의 테이블을 연결하여** 필요한 정보를 한 번에 가져오는 방법

**데이터가 여러 테이블에 나누어져 있을 때**, 이를 합쳐서 보고 싶을 때 사용한다!

두 테이블의 조인을 위해서는 기본키(PRIMARY KEY, PK)와 외래키(FOREIGN KEY, FK) 관계로 맺어져야 하고, 이를 **일대다 관계**라고 함

- **👭INNER JOIN(내부 조인)**
    
    두 테이블을 연결할 때 가장 많이 사용하는  것이 내부 조인
    
    그냥 조인이라고 부르면 내부 조인을 의미

    ![alt text](inner_join.png)
    
    ```sql
    SELECT <열 목록>
    FROM <첫 번째 테이블>
        INNER JOIN <두 번째 테이블>
        ON <조인 조건>
    [WHERE 검색 조건]
    
    #INNER JOIN을 JOIN이라고만 써도 INNER JOIN으로 인식합니다.
    ```
    

- **👩🏼‍🤝‍👩🏻OUTER JOIN(외부 조인)**
    
    ![alt text](outer_join.png)
    
    내부 조인은 두 테이블에 모두 데이터가 있어야만 결과가 나오지만, 
    외부 조인은 한쪽에만 데이터가 있어도 결과가 나옵니다.
    
    ```sql
    SELECT <열 목록>
    FROM <첫 번째 테이블(LEFT 테이블)>
        <LEFT | RIGHT | FULL> OUTER JOIN <두 번째 테이블(RIGHT 테이블)>
         ON <조인 조건>
    [WHERE 검색 조건]
    ```
    
    **👀참고) OUTER JOIN의 종류**
    
    - **LEFT** OUTER JOIN: 왼쪽 테이블의 모든 값이 출력되는 조인
    - **RIGHT** OUTER JOIN: 오른쪽 테이블의 모든 값이 출력되는 조인
    - **FULL** OUTER JOIN: 왼쪽 외부 조인과 오른쪽 외부 조인이 합쳐진 것

- **서브쿼리**
    
    쿼리 안에 들어가는 또 다른 쿼리
    
    다른 쿼리 내부에 포함되어 있는 `SELECT`문
    
    `SELECT`나 `WHERE` 또는 `FROM` 절 안에 **중첩된 쿼리**가 있는 형태
    
    - 외부쿼리(outer query) : 서브쿼리를 포함하고 있는 쿼리
    - 서브쿼리는 내부쿼리(inner query)라고도 부른다.
    - 서브쿼리는 괄호() 로 감싸져서 표현 된다.

- 서브쿼리의 목적
    1. **필터링**: 다른 테이블(또는 같은 테이블)의 특정 값을 가져와서, 메인 쿼리에서 조건으로 활용하고 싶을 때
    2. **집계값 활용**: `COUNT`, `MAX`, `MIN`, `AVG` 등의 결과를 구해 메인 쿼리에서 사용하고 싶을 때
    3. **인라인 뷰**(가상 테이블): FROM 절에서 서브쿼리를 사용해, 임시로 만들어진 결과 집합을 마치 테이블처럼 이용하고 싶을 때